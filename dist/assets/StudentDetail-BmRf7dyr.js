import{d as Y,y as V,a2 as Q,Y as W,c as f,a as p,b as e,C as S,x as T,w as l,r,t as k,l as c,u as D,q as Z,F as J,k as z,B as ee,n as le,G as ae,T as C,a1 as oe,o as i,_ as te}from"./index-Pv0t0kya.js";const de={class:"student-detail-container"},ue={class:"page-title"},se={class:"card-header"},ne={class:"tags-container"},re={key:0,class:"upload-area"},pe={key:1,class:"attachment-list"},me={key:2,class:"empty-attachment"},ie={key:0,class:"form-actions"},ve=Y({__name:"StudentDetail",setup(fe){const P=Q(),B=oe(),m=V(P.query.mode==="edit"),h=V(Number(P.params.id)),o=V({id:h.value,name:"张三",gender:"男",birthday:"2010-05-15",school:"XX小学",grade:"五年级",class:"五(1)班",phone:"13800138001",email:"zhangsan@example.com",tags:["基础薄弱","积极主动"],fatherName:"张父",motherName:"张母",fatherJob:"工程师",motherJob:"教师",fatherPhone:"13800138004",motherPhone:"13800138005",address:"XX市XX区XX路XX号",emergencyContact:"张父",emergencyPhone:"13800138004",enrollmentDate:"2024-09-01",status:"在读",classTeacher:"李老师",learningGoal:"提高数学成绩，考上重点中学",weakSubjects:["数学","英语"],strongSubjects:["语文"],allergyHistory:"无",specialDisease:"无",parentAuthorization:!0,attachments:[]}),b=V(""),x=V([{name:"身份证复印件.jpg",url:"#"},{name:"照片.jpg",url:"#"},{name:"过往成绩单.pdf",url:"#"}]),G=()=>{b.value&&!o.value.tags.includes(b.value)&&(o.value.tags.push(b.value),b.value="")},A=v=>{const a=o.value.tags.indexOf(v);a>-1&&o.value.tags.splice(a,1)},E=(v,a)=>{console.log("上传成功：",v,a),C.success("上传成功")},H=v=>{console.error("上传失败：",v),C.error("上传失败")},F=v=>{console.log("下载文件：",v),C.success("下载成功")},R=()=>{console.log("保存学生信息：",o.value),m.value=!1,C.success("保存成功")},$=()=>{h.value?m.value=!1:B.push("/student/list")};return W(()=>{h.value&&console.log("加载学生信息：",h.value)}),(v,a)=>{const N=r("el-icon"),g=r("el-button"),n=r("el-input"),d=r("el-form-item"),u=r("el-col"),s=r("el-option"),y=r("el-select"),j=r("el-date-picker"),U=r("el-row"),w=r("el-form"),_=r("el-card"),q=r("el-tag"),I=r("el-switch"),K=r("el-upload"),L=r("el-descriptions-item"),M=r("el-descriptions"),O=r("el-empty");return i(),f("div",de,[p("h2",ue,T(m.value?"编辑学生":"学生详情"),1),e(_,{shadow:"hover",class:"basic-info-card"},{header:l(()=>[p("div",se,[a[29]||(a[29]=p("span",null,"基本信息",-1)),m.value?S("",!0):(i(),k(g,{key:0,type:"primary",size:"small",onClick:a[0]||(a[0]=t=>m.value=!0)},{default:l(()=>[e(N,null,{default:l(()=>[e(D(Z))]),_:1}),a[28]||(a[28]=c(" 编辑 ",-1))]),_:1}))])]),default:l(()=>[e(w,{model:o.value,"label-width":"120px",disabled:!m.value},{default:l(()=>[e(U,{gutter:20},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(d,{label:"姓名",prop:"name"},{default:l(()=>[e(n,{modelValue:o.value.name,"onUpdate:modelValue":a[1]||(a[1]=t=>o.value.name=t),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(d,{label:"性别",prop:"gender"},{default:l(()=>[e(y,{modelValue:o.value.gender,"onUpdate:modelValue":a[2]||(a[2]=t=>o.value.gender=t),placeholder:"请选择性别"},{default:l(()=>[e(s,{label:"男",value:"男"}),e(s,{label:"女",value:"女"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(d,{label:"出生日期",prop:"birthday"},{default:l(()=>[e(j,{modelValue:o.value.birthday,"onUpdate:modelValue":a[3]||(a[3]=t=>o.value.birthday=t),type:"date",placeholder:"选择出生日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(d,{label:"学校",prop:"school"},{default:l(()=>[e(n,{modelValue:o.value.school,"onUpdate:modelValue":a[4]||(a[4]=t=>o.value.school=t),placeholder:"请输入学校"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(d,{label:"年级",prop:"grade"},{default:l(()=>[e(n,{modelValue:o.value.grade,"onUpdate:modelValue":a[5]||(a[5]=t=>o.value.grade=t),placeholder:"请输入年级"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(d,{label:"班级",prop:"class"},{default:l(()=>[e(n,{modelValue:o.value.class,"onUpdate:modelValue":a[6]||(a[6]=t=>o.value.class=t),placeholder:"请输入班级"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(d,{label:"联系方式",prop:"phone"},{default:l(()=>[e(n,{modelValue:o.value.phone,"onUpdate:modelValue":a[7]||(a[7]=t=>o.value.phone=t),placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(d,{label:"邮箱",prop:"email"},{default:l(()=>[e(n,{modelValue:o.value.email,"onUpdate:modelValue":a[8]||(a[8]=t=>o.value.email=t),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","disabled"])]),_:1}),e(_,{shadow:"hover",class:"tags-card"},{header:l(()=>[...a[30]||(a[30]=[p("div",{class:"card-header"},[p("span",null,"学习特点标签")],-1)])]),default:l(()=>[p("div",ne,[(i(!0),f(J,null,z(o.value.tags,t=>(i(),k(q,{key:t,closable:"",disabled:!m.value,onClose:X=>A(t)},{default:l(()=>[c(T(t),1)]),_:2},1032,["disabled","onClose"]))),128)),m.value?(i(),k(n,{key:0,modelValue:b.value,"onUpdate:modelValue":a[9]||(a[9]=t=>b.value=t),class:"tag-input",placeholder:"输入标签后按回车添加",onKeyup:ee(G,["enter"]),clearable:""},null,8,["modelValue"])):S("",!0)])]),_:1}),e(_,{shadow:"hover",class:"family-info-card"},{header:l(()=>[...a[31]||(a[31]=[p("div",{class:"card-header"},[p("span",null,"家庭信息")],-1)])]),default:l(()=>[e(w,{model:o.value,"label-width":"120px",disabled:!m.value},{default:l(()=>[e(U,{gutter:20},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(d,{label:"父亲姓名",prop:"fatherName"},{default:l(()=>[e(n,{modelValue:o.value.fatherName,"onUpdate:modelValue":a[10]||(a[10]=t=>o.value.fatherName=t),placeholder:"请输入父亲姓名"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(d,{label:"母亲姓名",prop:"motherName"},{default:l(()=>[e(n,{modelValue:o.value.motherName,"onUpdate:modelValue":a[11]||(a[11]=t=>o.value.motherName=t),placeholder:"请输入母亲姓名"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(d,{label:"父亲职业",prop:"fatherJob"},{default:l(()=>[e(n,{modelValue:o.value.fatherJob,"onUpdate:modelValue":a[12]||(a[12]=t=>o.value.fatherJob=t),placeholder:"请输入父亲职业"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(d,{label:"母亲职业",prop:"motherJob"},{default:l(()=>[e(n,{modelValue:o.value.motherJob,"onUpdate:modelValue":a[13]||(a[13]=t=>o.value.motherJob=t),placeholder:"请输入母亲职业"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(d,{label:"父亲联系方式",prop:"fatherPhone"},{default:l(()=>[e(n,{modelValue:o.value.fatherPhone,"onUpdate:modelValue":a[14]||(a[14]=t=>o.value.fatherPhone=t),placeholder:"请输入父亲联系方式"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(d,{label:"母亲联系方式",prop:"motherPhone"},{default:l(()=>[e(n,{modelValue:o.value.motherPhone,"onUpdate:modelValue":a[15]||(a[15]=t=>o.value.motherPhone=t),placeholder:"请输入母亲联系方式"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:l(()=>[e(d,{label:"家庭地址",prop:"address"},{default:l(()=>[e(n,{modelValue:o.value.address,"onUpdate:modelValue":a[16]||(a[16]=t=>o.value.address=t),type:"textarea",placeholder:"请输入家庭地址",rows:"2"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(d,{label:"紧急联系人",prop:"emergencyContact"},{default:l(()=>[e(n,{modelValue:o.value.emergencyContact,"onUpdate:modelValue":a[17]||(a[17]=t=>o.value.emergencyContact=t),placeholder:"请输入紧急联系人"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(d,{label:"紧急联系电话",prop:"emergencyPhone"},{default:l(()=>[e(n,{modelValue:o.value.emergencyPhone,"onUpdate:modelValue":a[18]||(a[18]=t=>o.value.emergencyPhone=t),placeholder:"请输入紧急联系电话"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","disabled"])]),_:1}),e(_,{shadow:"hover",class:"study-info-card"},{header:l(()=>[...a[32]||(a[32]=[p("div",{class:"card-header"},[p("span",null,"学习信息")],-1)])]),default:l(()=>[e(w,{model:o.value,"label-width":"120px",disabled:!m.value},{default:l(()=>[e(U,{gutter:20},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(d,{label:"入学日期",prop:"enrollmentDate"},{default:l(()=>[e(j,{modelValue:o.value.enrollmentDate,"onUpdate:modelValue":a[19]||(a[19]=t=>o.value.enrollmentDate=t),type:"date",placeholder:"选择入学日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(d,{label:"在读状态",prop:"status"},{default:l(()=>[e(y,{modelValue:o.value.status,"onUpdate:modelValue":a[20]||(a[20]=t=>o.value.status=t),placeholder:"请选择在读状态"},{default:l(()=>[e(s,{label:"潜在",value:"潜在"}),e(s,{label:"在读",value:"在读"}),e(s,{label:"停学",value:"停学"}),e(s,{label:"毕业",value:"毕业"}),e(s,{label:"流失",value:"流失"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(d,{label:"班主任",prop:"classTeacher"},{default:l(()=>[e(n,{modelValue:o.value.classTeacher,"onUpdate:modelValue":a[21]||(a[21]=t=>o.value.classTeacher=t),placeholder:"请输入班主任"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:l(()=>[e(d,{label:"学习目标",prop:"learningGoal"},{default:l(()=>[e(n,{modelValue:o.value.learningGoal,"onUpdate:modelValue":a[22]||(a[22]=t=>o.value.learningGoal=t),type:"textarea",placeholder:"请输入学习目标",rows:"2"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(d,{label:"薄弱科目",prop:"weakSubjects"},{default:l(()=>[e(y,{modelValue:o.value.weakSubjects,"onUpdate:modelValue":a[23]||(a[23]=t=>o.value.weakSubjects=t),placeholder:"请选择薄弱科目",multiple:"","collapse-tags":""},{default:l(()=>[e(s,{label:"语文",value:"语文"}),e(s,{label:"数学",value:"数学"}),e(s,{label:"英语",value:"英语"}),e(s,{label:"物理",value:"物理"}),e(s,{label:"化学",value:"化学"}),e(s,{label:"生物",value:"生物"}),e(s,{label:"历史",value:"历史"}),e(s,{label:"地理",value:"地理"}),e(s,{label:"政治",value:"政治"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(d,{label:"特长科目",prop:"strongSubjects"},{default:l(()=>[e(y,{modelValue:o.value.strongSubjects,"onUpdate:modelValue":a[24]||(a[24]=t=>o.value.strongSubjects=t),placeholder:"请选择特长科目",multiple:"","collapse-tags":""},{default:l(()=>[e(s,{label:"语文",value:"语文"}),e(s,{label:"数学",value:"数学"}),e(s,{label:"英语",value:"英语"}),e(s,{label:"物理",value:"物理"}),e(s,{label:"化学",value:"化学"}),e(s,{label:"生物",value:"生物"}),e(s,{label:"历史",value:"历史"}),e(s,{label:"地理",value:"地理"}),e(s,{label:"政治",value:"政治"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","disabled"])]),_:1}),e(_,{shadow:"hover",class:"medical-info-card"},{header:l(()=>[...a[33]||(a[33]=[p("div",{class:"card-header"},[p("span",null,"医疗信息")],-1)])]),default:l(()=>[e(w,{model:o.value,"label-width":"120px",disabled:!m.value},{default:l(()=>[e(U,{gutter:20},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(d,{label:"过敏史",prop:"allergyHistory"},{default:l(()=>[e(n,{modelValue:o.value.allergyHistory,"onUpdate:modelValue":a[25]||(a[25]=t=>o.value.allergyHistory=t),placeholder:"请输入过敏史"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(d,{label:"特殊疾病",prop:"specialDisease"},{default:l(()=>[e(n,{modelValue:o.value.specialDisease,"onUpdate:modelValue":a[26]||(a[26]=t=>o.value.specialDisease=t),placeholder:"请输入特殊疾病"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:l(()=>[e(d,{label:"家长授权"},{default:l(()=>[e(I,{modelValue:o.value.parentAuthorization,"onUpdate:modelValue":a[27]||(a[27]=t=>o.value.parentAuthorization=t),disabled:!m.value},null,8,["modelValue","disabled"]),a[34]||(a[34]=p("span",{class:"form-help"},"（需家长授权方可录入医疗信息）",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["model","disabled"])]),_:1}),e(_,{shadow:"hover",class:"attachment-card"},{header:l(()=>[...a[35]||(a[35]=[p("div",{class:"card-header"},[p("span",null,"档案附件")],-1)])]),default:l(()=>[m.value?(i(),f("div",re,[e(K,{action:"#","on-success":E,"on-error":H,"file-list":x.value,"list-type":"picture-card","auto-upload":!1},{default:l(()=>[e(N,null,{default:l(()=>[e(D(le))]),_:1}),a[36]||(a[36]=p("div",{class:"upload-text"},"上传文件",-1))]),_:1},8,["file-list"])])):x.value.length>0?(i(),f("div",pe,[e(M,{column:4,border:""},{default:l(()=>[(i(!0),f(J,null,z(x.value,(t,X)=>(i(),k(L,{key:X,label:t.name},{default:l(()=>[e(g,{type:"primary",size:"small",onClick:be=>F(t)},{default:l(()=>[e(N,null,{default:l(()=>[e(D(ae))]),_:1}),a[37]||(a[37]=c(" 下载 ",-1))]),_:1},8,["onClick"])]),_:2},1032,["label"]))),128))]),_:1})])):(i(),f("div",me,[e(O,{description:"暂无附件"})]))]),_:1}),m.value?(i(),f("div",ie,[e(g,{onClick:$},{default:l(()=>[...a[38]||(a[38]=[c("取消",-1)])]),_:1}),e(g,{type:"primary",onClick:R},{default:l(()=>[...a[39]||(a[39]=[c("提交",-1)])]),_:1})])):S("",!0)])}}}),Ve=te(ve,[["__scopeId","data-v-22adde5a"]]);export{Ve as default};
